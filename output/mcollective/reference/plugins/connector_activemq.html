<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<title>Documentation | Puppet Labs - ActiveMQ Connector</title>
  	<meta name="description" content="The open source leader in data center automation">
  	<link rel="alternate" type="text/xml" title="Puppet Labs RSS 0.92 Feed" href="http://puppetlabs.com/feed/rss/">
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Atom Feed" href="http://puppetlabs.com/feed/atom/">
  	<link rel="alternate" type="application/rss+xml" title="Puppet Labs RSS 2.0 Feed" href="http://puppetlabs.com/feed/">
  	<link rel="pingback" href="http://puppetlabs.com/xmlrpc.php">
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://puppetlabs.com/xmlrpc.php?rsd" />
    <link rel='index' title='Puppet Labs' href='http://docs.puppetlabs.com' />

<!-- Google stats -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-1537572-5");
pageTracker._setDomainName(".puppetlabs.com");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- End Google stats -->


    <!-- FIXME: absolute paths -->

    <script type='text/javascript' src='/files/javascripts/html5.js'></script>
    <script type='text/javascript' src='/files/javascripts/jquery-1.3.2.min.js'></script>
    <script type='text/javascript' src='/files/javascripts/drop_down.js'></script>
    <script type='text/javascript' src='/files/javascripts/cufon-yui.js'></script>
    <script type='text/javascript' src='/files/fonts/Klavika_400-Klavika_600.font.js'></script>
    <script type='text/javascript' src='/files/javascripts/ampersands.js'></script>

     <!--Add rotation jQuery Script -->
	 	
    <script type='text/javascript' src='/files/javascripts/addRotate.js'></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <link rel="canonical" href="http://docs.puppetlabs.com" />
    <!-- /all in one seo pack -->
	
    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="/files/stylesheets/style.css" media="screen"> 
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/syntax.css" media="screen"> <!-- index -->
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/adbanner.css" media="screen">

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <![endif]-->
  
    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <![endif]-->		

  	<script type="text/javascript">
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	</script>
</head>



        
  <body id="puppetlabsdocs" class="docs">
  <style type="text/css">h1, h2{ visibility : hidden }</style>		
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->		

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/puppet/">
              <span>Products</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>            
              <li>
                <ul>
<li class="page_item page-item-769"><a href="http://www.puppetlabs.com/puppet/puppet-enterprise/" title="Puppet Enterprise">Puppet Enterprise</a></li>
<li class="page_item page-item-757"><a href="http://www.puppetlabs.com/puppet/introduction/" title="Puppet">Puppet</a></li>
<li class="page_item page-item-956"><a href="http://www.puppetlabs.com/puppet/how-to-buy/" title="How to Buy">How to Buy</a></li>
<li class="page_item page-item-1159"><a href="http://forge.puppetlabs.com/" title="Module Forge">Module Forge</a></li>

<li class="page_item page-item-2415"><a href="http://www.puppetlabs.com/mcollective/introduction/" title="MCollective">MCollective</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>

            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://www.puppetlabs.com/services/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-839"><a href="http://www.puppetlabs.com/services/support/" title="Enterprise Support">Enterprise Support</a></li>
<li class="page_item page-item-845"><a href="http://www.puppetlabs.com/services/training-workshops/" title="On-Site Training &amp; Consulting">On-Site Training &amp; Consulting</a></li>
<li class="page_item page-item-849"><a href="/category/events/upcoming/" title="Events &amp; Public Training">Events &amp; Public Training</a></li>
<li class="page_item page-item-851"><a href="http://www.puppetlabs.com/services/partners/" title="Partners">Partners</a></li>
<li class="page_item page-item-1037"><a href="/resources/customer-support" title="Customer Support">Customer Support</a></li>
            </ul>
          </li>
          <li id="resources-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/resources/">
              <span>Resources</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/resources/overview-2/" title="Overview">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/resources/customer-support/" title="Customer Support">Customer Support</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com" title="Documentation">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download" title="Downloads">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com" title="Module Forge">Module Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/request-whitepapers.html" title="White Papers">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki" title="Wiki">Wiki</a></li>
            </ul>

          </li>

<li id="customer-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/customers/companies/">
              <span>Customers</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/customers/companies/" title="Overview">Companies</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/customers/case-studies/" title="Case Studies">Case Studies</a></li>
<li class="page_item page-item-1040"><a href="http://www.puppetlabs.com/customers/product-testimonials/" title="Product Testimonials">Product Testimonials</a></li>
<li class="page_item page-item-872"><a href="http://www.puppetlabs.com/customers/what-customers-are-saying/" title="ervice Testimonials">Service Testimonials</a></li>
	</ul>
          </li>
         <li id="community-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/community/">
              <span>Community</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/community/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/blog" title="Blog">Blog</a></li>
<li class="page_item page-item-2264"><a href="http://www.puppetlabs.com/community/puppet-camp/" title="Puppet Camp">Puppet Camp</a></li>
<li class="page_item page-item-2249"><a href="http://www.puppetlabs.com/community/user-groups-and-devops-groups/" title="User Groups &amp; DevOps Groups">User Groups &amp; DevOps Groups</a></li>
<li class="page_item page-item-2215"><a href="http://www.puppetlabs.com/community/presentations/" title="Presentations">Presentations</a></li>

<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/videos/" title="Videos">Videos</a></li>
<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/badges/" title="Badges">Badges</a></li>
            </ul>
          </li>

          <li id="company-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>

            <ul>
              <li class="page_item page-item-2316"><a href="http://www.puppetlabs.com/company/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://www.puppetlabs.com/company/news/" title="News">News</a></li>
<li class="page_item page-item-1571"><a href="http://www.puppetlabs.com/company/jobs/" title="Jobs">Jobs</a></li>
<li class="page_item page-item-2313"><a href="http://www.puppetlabs.com/company/contact-us/" title="Contact Us">Contact Us</a></li>
            </ul>
          </li>
    		</ul>	   
          <div id="misc-navigation">

			  <ul>
				<li><a href="http://puppetlabs.com/security/">Security</a></li>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
				<li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/#contact">Contact Us</a></li>
				<li><a href="http://info.puppetlabs.com/download-pe2.html" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">

			  <div>
				<input type="hidden" name="cx" value="017884045025332504017:1mnj-dlgfcc" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

          </div>
      </nav>
    	</div>
    </header>  

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">ActiveMQ Connector</span></h1>
          <ul id="doc-navigation">
            <li><a href="/">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
               	            <dl>
	              <dt>Puppet Guides</dt>
                      <dd><a href="/index.html">Index</a></dd>
                  <dt>Puppet References</dt>
                      <dd><a href="/references/stable/type.html">Resource Types</a></dd>
                      <dd><a href="/references/stable/function.html">Functions</a></dd>
                      <dd><a href="/references/stable/metaparameter.html">Metaparameters</a></dd>
                      <dd><a href="/references/stable/configuration.html">Configuration</a></dd>
                      <dt>References By Version</dt>
                      <dd><a href="/references/2.7.6/">2.7.6</a></dd>
                      <dd><a href="/references/2.6.12/">2.6.12</a></dd>
                      <dd><a href="/references/0.25.5/">0.25.5</a></dd>
                      <dd><a href="/references/0.24.8/">0.24.8</a></dd>
                      <dd><a href="/references/">Other Versions</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="/mcollective/index.html">Index</a></dd>
                      <dd><a href="/mcollective/simplerpc/index.html">SimpleRPC</a></dd>
                      <dd><a href="/mcollective/roadmap/index.html">Roadmap</a></dd>
                      <dd><a href="/mcollective/releasenotes.html">Release Notes</a></dd>
                      <dd><a href="/mcollective/reference/index.html">References</a></dd>
	            </dl>

            </li>
            <li><a href="/contribute.html">Contribute</a></li>
          </ul>
        </div>
      </section>
    
      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              
<h1 id="activemq-connector">ActiveMQ Connector</h1>

<p>The ActiveMQ connector uses the <a href="http://stomp.codehaus.org/">STOMP</a> rubygem to connect to ActiveMQ servers.  It is specifically optimiszed for ActiveMQ
and uses features in ActiveMQ 5.5.0 and later.</p>

<p>This code will only work with version <em>1.1.8</em> or newer of the Stomp gem.</p>

<h2 id="differences-between-activemq-connector-and-stomp-connector">Differences between ActiveMQ connector and Stomp Connector</h2>

<p>The ActiveMQ connector requires MCollective 1.3.1 or newer and introduce a new structure to the middleware messsages.</p>

<ul>
  <li>Replies goes direct to clients using short lived queues</li>
  <li>Agent topics are called <em>/topic/&lt;collective&gt;.&lt;agent_name&gt;.agent</em></li>
  <li>Support for point to point messages are added by using <em>/queue/&lt;collective&gt;.nodes</em> and using JMS selectors.</li>
</ul>

<p>The use of short lived queues mean that replies are now going to go back only to the person who sent the request.
This has big impact on overall CPU usage by clients on busy networks but also optimize the traffic flow on
networks with many brokers.</p>

<p>Point to Point messages means each node has a unique subscription, the approach using JMS Selectors means
internally to ActiveMQ only a single thread will be dedicated to this rather than 1 per connected node.</p>

<p>Before using this plugin you will need to make appropriate adjustments to your ActiveMQ Access Control Lists.</p>

<h2 id="configuring-activemq">Configuring ActiveMQ</h2>
<p>For best behavior there are a few settings you need in your <em>activemq.xml</em></p>

<h3 id="remove-unused-queues">Remove unused queues</h3>
<p>We use uniquely named queues for replies.  As queues will live forever we need to get ActiveMQ to remove
queues we are done with else they will just add up and grow forever.</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;destinationPolicy&gt;</span>
  <span class="nt">&lt;policyMap&gt;</span>
    <span class="nt">&lt;policyEntries&gt;</span>
      <span class="nt">&lt;policyEntry</span> <span class="na">queue=</span><span class="s">&quot;*.reply.&gt;&quot;</span> <span class="na">gcInactiveDestinations=</span><span class="s">&quot;true&quot;</span> <span class="na">inactiveTimoutBeforeGC=</span><span class="s">&quot;300000&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/policyEntries&gt;</span>
  <span class="nt">&lt;/policyMap&gt;</span>
<span class="nt">&lt;/destinationPolicy&gt;</span>
</code></pre>
</div>

<p>The above policy will instruct ActiveMQ to remove dead queues after 5 minutes.</p>

<h3 id="optimize-network-usage-for-direct-requests-in-a-network-of-brokers">Optimize network usage for direct requests in a network of brokers</h3>
<p>If you are using a network of brokers you will need to make a big change to how that works.
At present we tend to have 1 bi-directional connection for everything, with direct requests
we dedicate a bi-directional connection for these queues leaving the other just for topics.</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;networkConnectors&gt;</span>
  <span class="nt">&lt;networkConnector</span>
        <span class="na">name=</span><span class="s">&quot;stomp1-stomp2-topics&quot;</span>
        <span class="na">uri=</span><span class="s">&quot;static:(tcp://stomp2.xx.net:6166)&quot;</span>
        <span class="na">userName=</span><span class="s">&quot;amq&quot;</span>
        <span class="na">password=</span><span class="s">&quot;secret&quot;</span>
        <span class="na">duplex=</span><span class="s">&quot;true&quot;</span>
        <span class="na">decreaseNetworkConsumerPriority=</span><span class="s">&quot;true&quot;</span>
        <span class="na">networkTTL=</span><span class="s">&quot;2&quot;</span>
        <span class="na">dynamicOnly=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;excludedDestinations&gt;</span>
                <span class="nt">&lt;queue</span> <span class="na">physicalName=</span><span class="s">&quot;&gt;&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/excludedDestinations&gt;</span>
  <span class="nt">&lt;/networkConnector&gt;</span>
  <span class="nt">&lt;networkConnector</span>
        <span class="na">name=</span><span class="s">&quot;stomp1-stomp2-queues&quot;</span>
        <span class="na">uri=</span><span class="s">&quot;static:(tcp://stomp2.xx.net:6166)&quot;</span>
        <span class="na">userName=</span><span class="s">&quot;amq&quot;</span>
        <span class="na">password=</span><span class="s">&quot;secret&quot;</span>
        <span class="na">duplex=</span><span class="s">&quot;true&quot;</span>
        <span class="na">decreaseNetworkConsumerPriority=</span><span class="s">&quot;true&quot;</span>
        <span class="na">networkTTL=</span><span class="s">&quot;2&quot;</span>
        <span class="na">dynamicOnly=</span><span class="s">&quot;true&quot;</span>
        <span class="na">conduitSubscriptions=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;excludedDestinations&gt;</span>
                <span class="nt">&lt;topic</span> <span class="na">physicalName=</span><span class="s">&quot;&gt;&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/excludedDestinations&gt;</span>
  <span class="nt">&lt;/networkConnector&gt;</span>
<span class="nt">&lt;/networkConnectors&gt;</span>
</code></pre>
</div>

<p>You will need to adjust the TTL for your network.  Note the queue connection has a different
<em>conduitSubscriptions</em> policy than the topic one, you have to create these different connections
and set this policy for everything to work correctly.</p>

<h2 id="configuring-mcollective">Configuring MCollective</h2>

<h3 id="common-options">Common Options</h3>
<p>The most basic configuration method is supported in all versions of the gem:</p>

<h3 id="failover-pools">Failover Pools</h3>
<p>A sample configuration can be seen below.  Note this plugin does not support the old style config of the Stomp connector.</p>

<div class="highlight"><pre><code class="ini"><span class="na">connector</span> <span class="o">=</span> <span class="s">activemq</span>
<span class="na">plugin.activemq.pool.size</span> <span class="o">=</span> <span class="s">2</span>
<span class="na">plugin.activemq.pool.1.host</span> <span class="o">=</span> <span class="s">stomp1</span>
<span class="na">plugin.activemq.pool.1.port</span> <span class="o">=</span> <span class="s">6163</span>
<span class="na">plugin.activemq.pool.1.user</span> <span class="o">=</span> <span class="s">me</span>
<span class="na">plugin.activemq.pool.1.password</span> <span class="o">=</span> <span class="s">secret</span>

<span class="na">plugin.activemq.pool.2.host</span> <span class="o">=</span> <span class="s">stomp2</span>
<span class="na">plugin.activemq.pool.2.port</span> <span class="o">=</span> <span class="s">6163</span>
<span class="na">plugin.activemq.pool.2.user</span> <span class="o">=</span> <span class="s">me</span>
<span class="na">plugin.activemq.pool.2.password</span> <span class="o">=</span> <span class="s">secret</span>
</code></pre>
</div>

<p>This gives it 2 servers to attempt to connect to, if the first one fails it will use the second.  Usernames and passwords can be set
with the environment variables STOMP_USER, STOMP_PASSWORD.</p>

<p>If you do not specify a port it will default to <em>61613</em></p>

<p>You can also specify the following options for the Stomp gem, these are the defaults in the Stomp 1.1.6 gem:</p>

<div class="highlight"><pre><code class="ini"><span class="na">plugin.activemq.initial_reconnect_delay</span> <span class="o">=</span> <span class="s">0.01</span>
<span class="na">plugin.activemq.max_reconnect_delay</span> <span class="o">=</span> <span class="s">30.0</span>
<span class="na">plugin.activemq.use_exponential_back_off</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">plugin.activemq.back_off_multiplier</span> <span class="o">=</span> <span class="s">2</span>
<span class="na">plugin.activemq.max_reconnect_attempts</span> <span class="o">=</span> <span class="s">0</span>
<span class="na">plugin.activemq.randomize</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">plugin.activemq.timeout</span> <span class="o">=</span> <span class="s">-1</span>
</code></pre>
</div>

<h3 id="message-priority">Message Priority</h3>

<p>ActiveMQ messages support priorities, you can pass in the needed priority header by setting:</p>

<div class="highlight"><pre><code class="ini"><span class="na">plugin.activemq.priority</span> <span class="o">=</span> <span class="s">4</span>
</code></pre>
</div>


            </div>
            <div class="secondary-content">
                  <div id="subCol">
                  
                  
                      <h3 class="chapter">Overview</h3>
<ul class="toc">
       <li><a href="/mcollective/">Introduction</a></li>
       <li><a href="/mcollective/screencasts.html">Screencasts</a></li>
       <li><a href="/mcollective/ec2demo.html">EC2 Demo</a></li>
       <li><a href="/mcollective/terminology.html">Terminology</a></li>
       <li><a href="/mcollective/security.html">Security Overview</a></li>
</ul>

<h3 class="chapter">Users</h3>
<ul class="toc">
       <li><a href="/mcollective/reference/basic/gettingstarted.html">Getting
Started</a></li>
       <li><a
href="/mcollective/reference/basic/configuration.html">Configuration
Guide</a></li>
       <li><a href="/mcollective/reference/basic/daemon.html">Controlling
mcollectived</a></li>
       <li><a href="/mcollective/reference/">...more</a></li>
</ul>


<h3 class="chapter">Writing Agents</h3>
<ul class="toc">
       <li><a href="/mcollective/simplerpc/">Overview</a></li>
       <li><a href="/mcollective/simplerpc/agents.html">Writing Agents</a></li>
       <li><a href="/mcollective/simplerpc/clients.html">Writing Clients</a></li>
       <li><a
href="/mcollective/simplerpc/authorization.html">Authorization</a></li>
       <li><a href="/mcollective/simplerpc/auditing.html">Auditing</a></li>
       <li><a href="/mcollective/simplerpc/ddl.html">DDL</a></li>
</ul>

                  
                                        <!-- New Ads are inserted here -->
		  			<div id="bannerImage" style="display:block;">&nbsp;</div>
                  </div>
            </div>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers & consultants</a>
                  <p>  
		<h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>
              
				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save"; id="mktForm_1013" name="mktForm_1013">
				
				<label>Email Address:</label><span class='mktInput'><input class='mktFormText mktFormEmail' name="Email" id="Email" type='text' value="" maxlength='255'  /><span class='mktFormMsg'></span></span>
				
				<input id='mktFrmSubmit' type='submit' class='btn' style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value='Subscribe' name='submitButton' onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' />
				
				<input style='display: none;' id='mktFrmReset' type='reset' value='Clear' name='resetButton' onclick='formReset(document.getElementById("mktForm_1013")); return false;' />
	
				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />
				
				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&kw={keyword}"; />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>
				
				<script type="text/javascript">
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				</script>
              
<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>
                
                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>	

              </ul>
		<p>
		              		<h4>Follow us&#8230;</h4>

              		<ul class="followus">

					
			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0"></a></li>
					</ul>

              	</p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>Written by James Turnbull and Jeff McCune, <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/05/propuppetthumb.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &copy; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">411 NW Park Avenue</span>
           /
           <span class="locality">Portland</span>, 
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>          
      </div>
    </div>
    <script src="http://munchkin.marketo.net/munchkin.js" type="text/javascript"></script> <script>mktoMunchkin("307-QLA-991");</script> 
    
  	<script type="text/javascript">Cufon.now();</script>
  	<style type="text/css">h1, h2, .btn { visibility : visible; }</style>

	</body>
</html>        
